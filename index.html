<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Form</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <form id="myForm">
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="First name" class="form-label"
                        >First name</label
                    >
                    <input
                        type="text"
                        class="form-control"
                        id="firstName"
                        placeholder="First name"
                        aria-label="First name"
                    />
                </div>
                <div class="col-md-6">
                    <label for="Last name" class="form-label">Last name</label>
                    <input
                        type="text"
                        class="form-control"
                        id="lastName"
                        placeholder="Last name"
                        aria-label="Last name"
                    />
                </div>
                <div class="col-md-6">
                    <label for="inputEmail4" class="form-label">Email</label>
                    <input type="email" class="form-control" id="inputEmail4" />
                </div>
                <div class="col-12">
                    <label for="inputAddress" class="form-label">Address</label>
                    <input
                        type="text"
                        class="form-control"
                        id="inputAddress"
                        placeholder="1234 Main St"
                    />
                </div>
               
                <div class="col-md-6">
                    <label for="inputCity" class="form-label">City</label>
                    <input type="text" class="form-control" id="inputCity" />
                </div>

                <div class="col-md-2">
                    <label for="inputZip" class="form-label">Zip</label>
                    <input type="text" class="form-control" id="inputZip" />
                </div>
                <fieldset class="row mb-3">
                    <legend class="col-form-label col-sm-2 pt-0">Gender</legend>
                    <div class="col-sm-10">
                        <div class="form-check">
                            <input
                                class="form-check-input"
                                type="radio"
                                name="gridRadios"
                                id="gridRadios1"
                                value="Male"
                                checked
                            />
                            <label class="form-check-label" for="gridRadios1">
                                Male
                            </label>
                        </div>
                        <div class="form-check">
                            <input
                                class="form-check-input"
                                type="radio"
                                name="gridRadios"
                                id="gridRadios2"
                                value="Female"
                            />
                            <label class="form-check-label" for="gridRadios2">
                                Female
                            </label>
                        </div>
                    </div>
                </fieldset>
                <div class="col-12">
                    <button type="submit" class="btn btn-primary">
                        Submit
                    </button>
                </div>
            </div>
        </form>
        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
            import {
                getDatabase,
                ref,
                push,
            } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";

            const firebaseConfig = {
                apiKey: "AIzaSyAl8TcRHwUYhhTQ2HaerU5udyo2gZvZu6M",
                authDomain: "form-infor.firebaseapp.com",
                databaseURL: "https://form-infor-default-rtdb.firebaseio.com",
                projectId: "form-infor",
                storageBucket: "form-infor.appspot.com",
                messagingSenderId: "106736776344",
                appId: "1:106736776344:web:e9019272c436c933074ced",
                measurementId: "G-QSYMDFJ7YS",
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const database = getDatabase(app);

            const handleSubmit = (e) => {
                e.preventDefault();

                // Get form data
                const firstName = document.getElementById("firstName").value;
                const lastName = document.getElementById("lastName").value;
                const email = document.getElementById("inputEmail4").value;
                const address = document.getElementById("inputAddress").value;
                const city = document.getElementById("inputCity").value;
                const zip = document.getElementById("inputZip").value;
                const gender = document.querySelector(
                    'input[name="gridRadios"]:checked'
                ).value;

                // Create a reference to the 'users' node in the database
                const usersRef = ref(database, "users");

                // Push data to the database
                push(usersRef, {
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    address: address,
                    city: city,
                    zip: zip,
                    gender: gender,
                })
                    .then(() => {
                        // Data was successfully sent
                        console.log("Data sent to Firebase!");
                        // You can add any success handling code here
                    })
                    .catch((error) => {
                        // Handle errors here
                        console.error(
                            "Error sending data to Firebase: ",
                            error
                        );
                    });

                e.target.reset();
            };

            const form = document.getElementById("myForm");
            form.addEventListener("submit", handleSubmit);
        </script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
